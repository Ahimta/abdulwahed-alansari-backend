<section class="page-header text-center">
  <h1>مقالات</h1>
</section>

<div class="container" dir="rtl">
  <ol class="breadcrumb">
    <li><a href="#/">الصفحة الرئيسية</a></li>
    <li class="active">مقالات</li>
  </ol>
</div>

<section class="container text-right">
  <div class="col-md-4" ng-repeat="article in articlesCtrl.articles">
    <article class="panel panel-default">
      <header class="panel-heading">
        <a ng-href="#/article/{{article.$id}}" dir="rtl" ng-bind="article.title"></a>
      </header>
      <div class="panel-body">
        <p dir="rtl">
          <pre dir="rtl" ng-bind="article.body | limitTo:255"></pre>
          <a dir="rtl" ng-href="#/article/{{article.$id}}">المزيد...</a>
        </p>
      </div>
      <footer class="panel-footer">
        <div class="btn-group">
          <button type="button" class="btn btn-sm btn-danger"
                  ng-click="articlesCtrl.articles.$remove(article)">حذف</button>
          <a ng-href="#/article/{{article.$id}}/edit" class="btn btn-sm btn-primary">تعديل</a>
        </div>
      </footer>
    </article>
  </div>
</section>

<hr>

<section class="container">
  <button type="button" class="btn btn-success btn-lg btn-block"
          id="newArticleButton"
          data-toggle="modal" data-target="#newArticleModal">إضافة مقال</button>
</section>

<form ng-submit="articlesCtrl.create(article)" name="createArticleForm" dir="rtl">
  <div class="modal fade" id="newArticleModal" tabindex="-1" role="dialog" aria-labelledby="newArticleModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="إغلاق">
            <span aria-hidden="true">&times;</span>
          </button>
          <h4 class="modal-title text-center" id="newArticleModalLabel">إضافة مقال</h4>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="articleTitle">العنوان</label>
            <input type="text" ng-model="article.title" name="articleTitle" class="form-control" id="articleTitle"
                   placeholder="العنوان" required autofocus>
          </div>
          <div class="form-group">
            <label for="articleBody">المحتوى</label>
            <textarea id="articleBody" class="form-control" placeholder="المحتوى" name="articleBody"
                      ng-model="article.body" rows="2" required></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <input type="submit" class="btn btn-success" value="إضافة مقال"
                 ng-disabled="!createArticleForm.$valid">
          <button type="button" class="btn btn-default" data-dismiss="modal">إغلاق</button>
        </div>
      </div>
    </div>
  </div>
</form>
